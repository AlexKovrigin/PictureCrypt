language: cpp
compiler: gcc
sudo: required
dist: trusty

before_install:
- sudo add-apt-repository --yes ppa:ubuntu-sdk-team/ppa
- sudo apt-get update -qq

install:
  - sudo apt-get install -y qt5-default qttools5-dev-tools #install necessary Qt files

before_script:
  - cd src
  
script:
  - qmake -project
  - qmake "CONFIG+=debug" PictureCrypt.pro
  - make
  - ./src/PictureCrypt
  - rm Makefile PictureCrypt *.o #remove files (which are generated from unit test) for next build
  - qmake "CONFIG+=release" PictureCrypt.pro #we gonna compile for actual program
  - make
  - ./src/PictureCrypt #run actual program
