<p align="center">
  <a href="https://alexkovrigin.me/PictureCrypt">
    <img alt="PictureCrypt" src="./app/src/icons/unlocked.png">
  </a>
</p>

<p align="center">
  An image-steganography project
</p>

<p align="center">
  <a href="https://travis-ci.com/waleko/PictureCrypt"><img alt="Build Status" src="https://travis-ci.com/waleko/PictureCrypt.svg?branch=master"></a>
  <a class="badge-align" href="https://www.codacy.com/app/waleko/PictureCrypt?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=waleko/PictureCrypt&amp;utm_campaign=Badge_Grade"><img src="https://api.codacy.com/project/badge/Grade/c9106eb67e164d7d87de6d92448a3355"/></a>
  <a href="https://gitter.im/waleko/PictureCrypt"><img src="https://badges.gitter.im/waleko/PictureCrypt.png"/></a>
</p>

<h2>About</h2>

<p>A simple steganography project which hides data in images.
This project is built using MVC pattern and features GUI.
<a href="https://qt.io">Qt</a> and <a href="https://github.com/bricke/Qt-AES">QAESEncryption</a> by <a href="https://github.com/bricke">bricke</a> were used.</p>

<h2>Download</h2>

<p>Get the binary files at <a href="https://github.com/waleko/PictureCrypt/releases/latest">latest release page</a>
Or download latest <strong>UNSTABLE</strong> binary file for Linux <a href="https://github.com/waleko/PictureCrypt/raw/gh-pages/src/build/Release/PictureCrypt">here</a></p>

<h2>External use</h2>

<p>You can use ModelPC class separately from everything else, except for QAESEncryption (so /aes folder)</p>

<h3>Use API</h3>

<p>```cpp
// Includes</p>

<h1>include "modelpc.h"</h1>

<h1>include <QImage></h1>

<h1>include <QByteArray></h1>

<h1>include <QString></h1>

<h1>include <QDebug> // just for showcase</h1>

<p>...</p>

<p>// Basic setup
QByteArray data("some<em>file.txt");
QImage *image = new QImage("some</em>big<em>enough</em>image.jpg");
QString key = "some_password";
int bitsUsed = 3; // must be from 1 to 8</p>

<p>// Encrypting
QString error1, error2;
QImage <em>normal_resultImage = ModelPC::Encrypt(
        data,
        image,
        1,
        key,
        bitsUsed,
        &amp;error1);
QImage *advanced_resultImage = ModelPC::Encrypt(
        data,
        image,
        2, key,
        bitsUsed /</em> not really used here, so put here any number from 1 to 8*/,
        &amp;error2);</p>

<p>// Decrypting with given mode
QString error3, error4, error5, error6;
QByteArray output<em>normal = ModelPC::Decrypt(
        normal</em>resultImage,
        key,
        1,
        &amp;error3);
QByteArray output<em>advanced = ModelPC::Decrypt(
        advanced</em>resultImage,
        key,
        2,
        &amp;error4);</p>

<p>// Decrypting without given mode
// PictureCrypt can detect the mode of the image and adapt.
QByteArray output<em>normal</em>undefined = ModelPC::Decrypt(
        normal<em>resultImage,
        key,
        0,
        &amp;error5);
QByteArray output</em>advanced<em>undefined = ModelPC::Decrypt(
        advanced</em>resultImage,
        key,
        0,
        &amp;error6);</p>

<p>// Check (better testing with <a href="#run-tests">running tests</a>
bool data<em>good =
        data == output</em>normal &amp;&amp;
        data == output<em>advanced &amp;&amp;
        data == output</em>normal<em>undefined &amp;&amp;
        data == output</em>advanced<em>undefined;
bool no</em>errors =
        error1 == "ok" &amp;&amp;
        error2 == "ok" &amp;&amp;
        error3 == "ok" &amp;&amp;
        error4 == "ok" &amp;&amp;
        error5 == "ok" &amp;&amp;
        error6 == "ok";
if(data<em>good &amp;&amp; no</em>errors)
    qDebug() &lt;&lt; "PASS";
else
    qDebug() &lt;&lt; "FAIL";</p>

<p>```</p>

<h3>Tests</h3>

<p>PictureCrypt comes with QT tests ready</p>

<h4>Run tests</h4>

<ul>
<li>Run them directly from IDE (e.g. Qt Creator)</li>
<li>Run with 'make'
```bash
<h1>Go to tests directory</h1></li>
</ul>

<p>cd app/tests</p>

<h1>Install required packages</h1>

<p>bash ../scripts/install.sh</p>

<h1>Build tests</h1>

<p>bash ../scripts/build.sh</p>

<h1>Run tests</h1>

<p>QT<em>QPA</em>PLATFORM=offscreen make check</p>

<h1>Clean (optional)</h1>

<p>bash ../scripts/clean.sh
```</p>

<h2>Available modes of encrypting</h2>

<ul>
<li>0 - Not Defined, used for decryption, so it auto-detects (invalid on encryption as you must select the encryption type).</li>
<li>1 - v1.3, only one available on versions 1.3+, pretty basic.</li>
<li><strong>2</strong> - v1.4, advanced (preferred) encryption mode, available on versions v1.4+ (works a lot longer than v1.3, can work for >40s on slow machines).</li>
<li>3 - JPHS, requires manually installed JPHS and specified directory (not currently available).</li>
</ul>

<h2>Documentation</h2>

<ul>
<li>HTML documentation available <a href="https://alexkovrigin.me/PictureCrypt">here</a></li>
<li>PDF documentation available <a href="https://github.com/waleko/PictureCrypt/raw/gh-pages/refman.pdf">here</a></li>
</ul>

<h2>Continuous integration</h2>

<p>Continuous integration is fulfilled via Travis CI platform. <a href="https://travis-ci.com/waleko/PictureCrypt">link</a></p>

<h2>Help translate this project</h2>

<p>If you'd like to translate PictureCrypt to your language here are steps to do so:
* Install QT and QT Linguist with it
* Clone the project.
* Go to PictureCrypt/app/src/
* Add a filename to TRANSLATIONS in app/src/src.pro file. Filename must be 'picturecrypt<em><your language>.ts' (e.g. 'picturecrypt</em>fr.ts')
* Run <code>lupdate src.pro</code>, it will generate that .ts file. If there is an error: "Maybe you forgot to set your environment?" Go to Project (on the left-hand side) ->(expand) Build environment -> Open terminal and run <code>lupdate src.pro</code>.
* Go to translations/
* Run <code>linguist picturecrypt_&lt;your language&gt;.ts</code>. The Qt Linguist will appear, where you can translate given text from English (there are a couple of html entries, just edit their text part). <strong>If you don't translate the whole thing, your work will be still appreciated!</strong>
* Either go to File -> Compile or run <code>lrelease picturecrypt_&lt;your language&gt;.ts</code>.
* Add your picturecrypt_<your language>.ts to app/src/translations.qrc resource file.
* Create a pull request in GitHub with your work.</p>

<p>If you have any trouble, <a href="#contact">contact me</a> and I will sincerely try to help you as I really don't think, that anyone will decide to help me translate. ðŸ˜”</p>

<h2>Dependencies</h2>

<ul>
<li><a href="https://doc.qt.io/qt-5.11/qtcore-index.html">qtcore</a></li>
<li><a href="http://doc.qt.io/archives/qt-4.8/qtgui-module.html">qtgui</a></li>
<li><a href="https://doc.qt.io/qt-5.11/qtwidgets-index.html">qtwidgets</a></li>
</ul>

<h2>Works of other people used in this project</h2>

<ul>
<li><a href="https://github.com/bricke/Qt-AES">QAESEncryption</a> by <a href="https://github.com/bricke/">bricke</a> (provided under <a href="https://unlicense.org/">UNLICENSE</a>)</li>
<li>'Circle Icons' by Nick Roach provided under GPL v3.0.</li>
</ul>

<h2>Contact</h2>

<p>Question or suggestions are welcome!
Email me <a href="mailto:a.kovrigin0@gmail.com">a.kovrigin0@gmail.com</a> or visit my site https://alexkovrigin.me</p>

<h2>License</h2>

<p>This software is provided under the <a href="http://unlicense.org/">UNLICENSE</a></p>
